<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>@ViewData["Title"] - Heladería El Arte</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- CSS de Select2 -->
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />

    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <!-- Bootstrap -->
    <link rel="stylesheet" type="text/css" href="~/css/bootstrap.min.css">

    <!-- Custom Styles -->
    <link rel="stylesheet" type="text/css" href="~/css/style.css">
    <link rel="stylesheet" type="text/css" href="~/css/responsive.css">

    <!-- Font -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,500,700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="~/css/jquery.mCustomScrollbar.min.css">
    <link rel="icon" href="~/images/fevicon.png" type="image/gif" />
    <link rel="stylesheet" href="~/WebHeladeria.styles.css" asp-append-version="true" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw==" crossorigin="anonymous" referrerpolicy="no-referrer" />


    <style>
        /* 🎨 Mejora ligera del estilo del navbar */
        .navbar {
            background: #fdf2f8 !important; /* rosado pastel */
            border-radius: 10px;
            padding: 10px 20px;
        }

        .nav-link {
            font-weight: 500;
            color: #8B005D !important;
        }

            .nav-link:hover {
                color: #c3007a !important;
            }

        .header-title {
            font-size: 20px;
            font-weight: bold;
            color: #8B005D;
            margin-left: 10px;
        }

        .copyright_section {
            background: #8B005D;
            padding: 15px 0;
            margin-top: 40px;
        }

        .copyright_text {
            color: #fff;
            margin: 0;
            text-align: center;
        }
    </style>
</head>

<body>
    @{
        var path = Context.Request.Path.Value?.ToLower();
    }

    <div class="header_section">
        <div class="container">
            <nav class="navbar navbar-expand-lg navbar-light">
                <a class="navbar-brand d-flex align-items-center" asp-controller="Home" asp-action="Index">
                    <img src="@Url.Content("~/images/logo.png")"
                         alt="Logo"
                         style="max-height:80px; width:auto;" />
                    <span class="header-title">Heladería El Arte</span>
                </a>

                <button class="navbar-toggler" type="button" data-toggle="collapse"
                        data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                        aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarSupportedContent">

                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item"><a class="nav-link" asp-controller="Home" asp-action="Index">Inicio</a></li>
                        <li class="nav-item"><a class="nav-link" href="/#nosotros">Nosotros</a></li>
                        <li class="nav-item"><a class="nav-link" href="/#sabores">Sabores</a></li>
                        <li class="nav-item"><a class="nav-link" href="/#servicios">Servicios</a></li>
                        <li class="nav-item"><a class="nav-link" href="/#contacto">Contáctanos</a></li>

                        @if (User.Identity?.IsAuthenticated == true)
                        {
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#" id="adminDropdown"
                                   data-toggle="dropdown">
                                    Administración
                                </a>
                                <div class="dropdown-menu">
                                    <a class="dropdown-item" asp-controller="Productos" asp-action="Index"><i class="fa fa-box"></i> Productos</a>
                                    <a class="dropdown-item" asp-controller="Clientes" asp-action="Index"><i class="fa fa-users"></i> Clientes</a>
                                    <a class="dropdown-item" asp-controller="Ventas" asp-action="Index"><i class="fa fa-shopping-cart"></i> Ventas</a>
                                    <a class="dropdown-item" asp-controller="Empleados" asp-action="Index"><i class="fa fa-user-tie"></i> Empleados</a>
                                    <!--<a class="dropdown-item" asp-controller="Usuarios" asp-action="Index"><i class="fa fa-user-circle"></i> Usuarios</a>-->
                                </div>
                            </li>
                        }
                    </ul>

                    <div class="form-inline my-2 my-lg-0">
                        @if (!User.Identity?.IsAuthenticated ?? false)
                        {
                            <div class="login_bt">
                                <a asp-controller="Account" asp-action="Login">
                                    Iniciar Sesión
                                    <span><i class="fa fa-user"></i></span>
                                </a>
                            </div>
                        }
                        else
                        {
                            <ul class="navbar-nav">
                                <li class="nav-item">
                                    <a class="nav-link">Hola @User.Identity?.Name</a>
                                </li>
                                <li class="nav-item">@await Html.PartialAsync("_LogoutPartial")</li>
                            </ul>
                        }
                    </div>
                </div>
            </nav>
        </div>

        @* Banner solo en Home *@
        @if (path == "/" || path == "/home/index")
        {
            <div class="banner_section layout_padding">
                <div class="container">
                    <!-- Carousel original mantenido -->
                    @* Tu mismo código del carousel queda igual *@
                    @RenderSection("Banner", required: false)
                </div>
            </div>
        }
    </div>

    <div class="container">
        <main class="pb-3">
            @RenderBody()
        </main>
    </div>

    @if (path == "/" || path == "/home/index")
    {
        <div class="copyright_section">
            <div class="container">
                <p class="copyright_text">
                    © 2025 Heladería El Arte — Todos los derechos reservados.<br />
                    📍 Avenida el Maestro Nro. 57
                </p>
            </div>
        </div>
    }

    <!-- JS de Select2 -->
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/js/all.min.js" integrity="sha512-6BTOlkauINO65nLhXhthZMtepgJSghyimIalb+crKRPhvhmsCdnIuGcVbR5/aQY2A+260iC1OPy1oCdB6pSSwQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/js/popper.min.js"></script>
    <script src="~/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/plugin.js"></script>
    <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/dist/jquery.validate.unobtrusive.min.js"></script>

    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>
